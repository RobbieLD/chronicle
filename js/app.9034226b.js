(()=>{"use strict";var e={3566:(e,t,a)=>{var i=a(9963),s=a(6252),n=a(3577);const o={class:"content grid"},l={class:"footer"};function d(e,t,a,d,r,c){const u=(0,s.up)("main-menu"),m=(0,s.up)("Sidebar"),_=(0,s.up)("settings"),p=(0,s.up)("nav-bar"),g=(0,s.up)("router-view"),v=(0,s.up)("action-button"),h=(0,s.up)("Toast");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m,{visible:e.menuIsOpen,"onUpdate:visible":t[0]||(t[0]=t=>e.menuIsOpen=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{onNavigate:e.closeMenu},null,8,["onNavigate"])])),_:1},8,["visible"]),(0,s.Wm)(m,{visible:e.settingsAreOpen,"onUpdate:visible":t[1]||(t[1]=t=>e.settingsAreOpen=t),position:"full"},{default:(0,s.w5)((()=>[(0,s.Wm)(_)])),_:1},8,["visible"]),(0,s.Wm)(p,{onMenuOpen:e.openMenu},null,8,["onMenuOpen"]),(0,s.wy)((0,s._)("div",o,[((0,s.wg)(),(0,s.j4)(g,{key:e.$route.fullPath}))],512),[[i.F8,e.showContent]]),e.showAddButton?((0,s.wg)(),(0,s.j4)(v,{key:0,position:e.addButtonPosition,icon:"pi-plus",onClicked:e.openAddPanel},null,8,["position","onClicked"])):(0,s.kq)("",!0),(0,s.Wm)(v,{position:e.settingsButtonPosition,icon:"pi-cog",onClicked:e.openSettingsPanel},null,8,["position","onClicked"]),(0,s._)("div",l,"Created by Rob Davis | "+(0,n.zw)(e.sha)+" | "+(0,n.zw)(e.backgroundLocation),1),(0,s.Wm)(h,{position:"top-right"})],64)}var r=a(2262);const c={class:"grid shadow-3 nav"},u={class:"col-fixed nav__burger"},m={class:"col-fixed nav__title"},_={class:"col nav__user"};function p(e,t,a,o,l,d){const r=(0,s.up)("ToggleButton"),p=(0,s.up)("Button");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",u,[(0,s._)("i",{class:"pi pi-bars",onClick:t[0]||(t[0]=(...t)=>e.openMenu&&e.openMenu(...t))})]),(0,s._)("div",m,[(0,s._)("span",null,(0,n.zw)(e.title),1)]),(0,s._)("div",_,[(0,s.Wm)(r,{modelValue:e.showItems,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showItems=t),onLabel:"Hide Items",class:"nav__item",offLabel:"Show Items"},null,8,["modelValue"]),(0,s.wy)((0,s.Wm)(p,{label:"Logout",onClick:e.logout,class:"nav__item"},null,8,["onClick"]),[[i.F8,e.userLoggedIn]])])])}var g,v,h,E,P,f,w,A,I,b=a(2119),S=a(4325),y=a(5319),U=a(3907),R=a(2482),V=a(5503);class B{}(0,R.Z)(B,"ToastLifeSpan",5e3),(0,R.Z)(B,"PosterHeight",400),(0,R.Z)(B,"MovieDbKey",null===(g={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===g?void 0:g.VUE_APP_MOVIE_DB_KEY),(0,R.Z)(B,"FirebaseConfig",{apiKey:null===(v={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===v?void 0:v.VUE_APP_FIREBASE_API_KEY,authDomain:null===(h={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===h?void 0:h.VUE_APP_FIREBASE_AUTH_DOMAIN,projectId:null===(E={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===E?void 0:E.VUE_APP_FIREBASE_PROJECT_ID,storageBucket:null===(P={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===P?void 0:P.VUE_APP_FIREBASE_STOREAGE_BUCKET,messagingSenderId:null===(f={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===f?void 0:f.VUE_APP_FIREBASE_MESSAGE_SENDER_ID,appId:null===(w={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===w?void 0:w.VUE_APP_FIREBASE_APP_ID}),(0,R.Z)(B,"UnsplashApiKey",null===(A={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===A?void 0:A.VUE_APP_UNSPLASH_API_KEY),function(e){e[e["left"]=1]="left",e[e["right"]=0]="right"}(I||(I={}));var D=a(7663);class k{constructor(){(0,R.Z)(this,"firebase",(0,V.ZF)(B.FirebaseConfig)),(0,R.Z)(this,"settingsLoaded",!1),(0,R.Z)(this,"namespaced",!0),(0,R.Z)(this,"getters",{}),(0,R.Z)(this,"mutations",{setUser:this.setUser,setError:this.setError,setReady:this.setReady,setProfile:this.setProfile}),(0,R.Z)(this,"actions",{signIn:this.signIn,authSubscribe:this.authSubscribe,signOut:this.signOut,loadProfile:this.loadProfile,updateProfile:this.updateProfile})}state(){return{error:null,user:null,ready:!1,settings:{showFlagged:!0,backgroundQuery:""}}}setUser(e,t){e.user=t}setReady(e,t){e.ready=t}setError(e,t){e.error=t}setProfile(e,t){e.settings={...e.settings,...t}}async signIn({commit:e},t){try{const a=(0,y.v0)(this.firebase);y.e5;const i=await(0,y.e5)(a,t.email,t.password);e("setUser",i.user),e("setError",null)}catch(a){e("setError",a)}}authSubscribe({commit:e,dispatch:t}){const a=(0,y.v0)(this.firebase);(0,y.Aj)(a,(a=>{e("setReady",!0),e("setUser",a),t("loadProfile")}))}async signOut({commit:e}){const t=(0,y.v0)(this.firebase);await t.signOut(),e("setUser",null)}async updateProfile({state:e},t){if(e.settings&&e.user){var a;const i=(0,D.iH)((0,D.N8)(this.firebase),`${null===(a=e.user)||void 0===a?void 0:a.uid}/settings`);await(0,D.t8)(i,t)}}async loadProfile({state:e,commit:t}){if(!this.settingsLoaded&&e.user){const a=(0,D.iH)((0,D.N8)(this.firebase),`${e.user.uid}/settings`);(0,D.jM)(a,(e=>{t("setProfile",e.val()),this.settingsLoaded=!0}))}}}a(4916);class C{constructor(e,t,a){(0,R.Z)(this,"name",void 0),(0,R.Z)(this,"poster",void 0),(0,R.Z)(this,"rating",void 0),(0,R.Z)(this,"id",void 0);let i="0";var s;e.release_date&&(i=null===(s=e.release_date)||void 0===s?void 0:s.split("-")[0]);this.id=e.id,this.name=`${e.title} (${i})`,this.rating=10*e.vote_average,this.poster={url:`${t}/${a[2]}/${e.poster_path}`,width:Number.parseInt(a[2].split("w")[1])}}}var M=a(9669),O=a.n(M);class T{constructor(e){(0,R.Z)(this,"http",void 0),this.http=O().create({baseURL:e,headers:{"Content-type":"application/json; charset=UTF-8"}}),this.http.interceptors.response.use(void 0,(e=>{var t,a;return Promise.reject({name:(null===(t=e.response)||void 0===t?void 0:t.status)||e.name,message:(null===(a=e.response)||void 0===a?void 0:a.data)||e.message})}))}}class Z extends T{constructor(){super("https://api.themoviedb.org/3/")}async Configuration(){const e=await this.http.get(`configuration?api_key=${B.MovieDbKey}`);return e.data}async Search(e){const t=await this.http.get(`search/movie?api_key=${B.MovieDbKey}&language=en-US&query='${e}'&page=1&include_adult=false`);return t.data}async Details(e){const t=await this.http.get(`movie/${e}?api_key=${B.MovieDbKey}&language=en-US`);return t.data}async Images(e){const t=await this.http.get(`movie/${e}/images?api_key=${B.MovieDbKey}`);return t.data}async Credits(e){const t=await this.http.get(`movie/${e}/credits?api_key=${B.MovieDbKey}&language=en-US`);return t.data}}a(5827);class F{constructor(){(0,R.Z)(this,"namespaced",!0),(0,R.Z)(this,"firebase",(0,V.ZF)(B.FirebaseConfig)),(0,R.Z)(this,"getters",{getRatedItems:this.getRatedItems,getUnratedItems:this.getUnratedItems,getStats:this.getStats,getGraphData:this.getGraphData}),(0,R.Z)(this,"actions",{loadItems:this.loadItems,addItem:this.addItem,updateItem:this.updateItem,removeItem:this.removeItem}),(0,R.Z)(this,"mutations",{setItems:this.setItems})}getRatedItems(e){return t=>H(e,(e=>void 0!==e.year&&(!e.flagged||t)))}getUnratedItems(e){return()=>H(e,(e=>void 0===e.year))}getGraphData(e){const t=Object.values(e.items),a=(e,t)=>e.reduce(((e,a)=>{const i=t(a);return e[i]?e[i].push(a):e[i]=[a],e}),{}),i=a(t,(e=>{var t;return(null===(t=e.year)||void 0===t?void 0:t.getFullYear())||0})),s=[],n=[];for(const o of Object.keys(i))o>"0"&&(s.push(o),n.push({x:i[o].length,y:o}));return{data:n,labels:s}}getStats(e){const t=Object.values(e.items),a=e.dataPath.substring(1,e.dataPath.length);if(!t.length)return{module:a};const i=e=>t.reduce(((t,a)=>e(t,a)),100),s=i(((e,t)=>e>t.myRating?e:t.myRating)),n=i(((e,t)=>t.myRating<e&&t.myRating>0?t.myRating:e)),o=t.filter((e=>e.myRating==s)).map((e=>e.name)).join(", "),l=t.filter((e=>e.myRating==n)).map((e=>e.name)).join(", ");return{maxRating:s,averageRating:Math.round(t.reduce(((e,t)=>e+t.myRating),0)/t.length),maxName:o,minName:l,minRating:n,totalItems:`${t.filter((e=>e.myRating>0)).length}/${t.filter((e=>0===e.myRating)).length}`,module:a}}setItems(e,t){e.items=t}async loadItems({state:e,commit:t}){if(!Object.keys(e.items).length){const a=(0,D.iH)((0,D.N8)(this.firebase),e.dataPath);(0,D.jM)(a,(e=>{t("setItems",e.val())}))}}async addItem({state:e},t){var a;const i=(0,D.iH)((0,D.N8)(this.firebase),e.dataPath),s={...t};await(0,D.VF)(i,{...s,year:(null===(a=t.year)||void 0===a?void 0:a.toISOString())||null})}async removeItem({state:e},t){await(0,D.Od)((0,D.iH)((0,D.N8)(this.firebase),`${e.dataPath}/${t}`))}async updateItem({state:e},t){const a=(0,D.iH)((0,D.N8)(this.firebase),e.dataPath);e.items[t.key]=t.item,await(0,D.Vx)(a,e.items)}}const H=(e,t)=>Object.keys(e.items).filter((a=>t(e.items[a]))).sort(((t,a)=>new Date(e.items[a].year||0).getTime()-new Date(e.items[t].year||0).getTime())).reduce(((t,a)=>({...t,[a]:e.items[a]})),{});class N{constructor(e,t,a,i,s){var n;(0,R.Z)(this,"title",void 0),(0,R.Z)(this,"posters",void 0),(0,R.Z)(this,"release",void 0),(0,R.Z)(this,"earning",void 0),(0,R.Z)(this,"runtime",void 0),(0,R.Z)(this,"description",void 0),(0,R.Z)(this,"people",void 0),(0,R.Z)(this,"backdrop",void 0),(0,R.Z)(this,"director",void 0),this.title=e.title,this.release=new Date(e.release_date);const o=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});this.earning=o.format(e.revenue);const l=Math.floor(e.runtime/60),d=e.runtime%60;this.runtime=`${l}'${d}"`,this.description=e.overview,this.backdrop=`${i}/${s[s.length-1]}/${e.backdrop_path}`,this.posters=a.posters.map((e=>({poster:`${i}/${s[4]}/${e.file_path}`,thumbnail:`${i}/${s[1]}/${e.file_path}`,language:e.iso_639_1,rating:e.vote_average}))),this.people=t.cast.map((e=>({name:e.name,job:e.character,profile:e.profile_path?`${i}/${s[1]}/${e.profile_path}`:""}))),this.director=(null===(n=t.crew.find((e=>"Directing"===e.known_for_department)))||void 0===n?void 0:n.name)||"Unknown"}}class Y extends F{constructor(...e){super(...e),(0,R.Z)(this,"getters",{...this.getters}),(0,R.Z)(this,"mutations",{...this.mutations,setImageBaseUrl:this.setImageBaseUrl,setImageSizes:this.setImageSizes}),(0,R.Z)(this,"actions",{...this.actions,loadConfiguration:this.loadConfiguration,loadSuggestions:this.loadSuggestions,loadMovieView:this.loadMovieView})}state(){return{items:{},imageBaseUrl:"",imageSizes:[],dataPath:"/movies"}}async loadConfiguration({state:e,commit:t}){if(!e.imageBaseUrl){const e=new Z,a=await e.Configuration();t("setImageBaseUrl",a.images.secure_base_url),t("setImageSizes",a.images.poster_sizes)}}async loadMovieView({state:e},t){const a=new Z,i=await a.Details(t),s=await a.Credits(t),n=await a.Images(t);return new N(i,s,n,e.imageBaseUrl,e.imageSizes)}async loadSuggestions({state:e},t){const a=new Z,i=await a.Search(t);return i.results.map((t=>new C(t,e.imageBaseUrl,e.imageSizes)))}setImageBaseUrl(e,t){e.imageBaseUrl=t}setImageSizes(e,t){e.imageSizes=t}}class K extends T{constructor(){super("https://en.wikipedia.org")}async Search(e){const t=await this.http.get(`w/api.php?origin=*&action=query&list=search&prop=info&srsearch=${e}&format=json`);return t.data}async Details(e){const t=await this.http.get(`w/api.php?origin=*&action=query&titles=${e}&prop=pageimages&format=json&pithumbsize=${B.PosterHeight}&pilicense=any`);return t.data}}class j{constructor(e){(0,R.Z)(this,"title",void 0),(0,R.Z)(this,"description",void 0),this.title=e.title,this.description=e.snippet}}class x extends F{constructor(...e){super(...e),(0,R.Z)(this,"getters",{...this.getters}),(0,R.Z)(this,"mutations",{...this.mutations}),(0,R.Z)(this,"actions",{...this.actions,loadPoster:this.loadPoster,loadSuggestions:this.loadSuggestions})}state(){return{items:{},dataPath:"/musicals"}}async loadSuggestions(e,t){const a=new K,i=await a.Search(t);return i.query.search.map((e=>new j(e)))}async loadPoster(e,t){const a=new K,i=await a.Details(t);return Object.values(i.query.pages)[0].thumbnail}}class L extends T{constructor(){super("https://api.unsplash.com/")}async GetRandomPhoto(e){const t=await this.http.get(`photos/random/?query=${e}&orientation=landscape&client_id=${B.UnsplashApiKey}`);return t.data}}class q{constructor(){(0,R.Z)(this,"namespaced",!0),(0,R.Z)(this,"getters",{}),(0,R.Z)(this,"mutations",{setAddPanelOpen:this.setAddPanelOpen,setTitle:this.setTitle,setBackground:this.setBackground,setSettingsPanelOpen:this.setSettingsPanelOpen,setBackgroundLocation:this.setBackgroundLocation,setShowContent:this.setShowContent}),(0,R.Z)(this,"actions",{loadBackground:this.loadBackground})}state(){return{addPanelOpen:!1,settingsPanelOpen:!1,title:"",background:"",backgroundLocation:"",showContent:!0}}setAddPanelOpen(e,t){e.addPanelOpen=t}setShowContent(e,t){e.showContent=t}setSettingsPanelOpen(e,t){e.settingsPanelOpen=t}setTitle(e,t){e.title=t}setBackground(e,t){e.background=t}setBackgroundLocation(e,t){e.backgroundLocation=t}async loadBackground({commit:e},t){const a=new L,i=await a.GetRandomPhoto(t);e("setBackground",i.links.download),e("setBackgroundLocation",i.location.name||i.description)}}const z=Symbol("store"),W=Symbol("module"),$=(0,U.MT)({modules:{auth:new k,movies:new Y,ui:new q,musicals:new x}});var G=a(2797);const J=(0,s.aZ)({name:"NavBar",components:{Button:S.Z,ToggleButton:G.Z},emits:["menuOpen"],setup(e,{emit:t}){const a=(0,b.tv)(),i=(0,U.oR)(z),n=(0,s.Fl)((()=>null!==i.state.auth.user)),o=(0,s.Fl)((()=>i.state.ui.title)),l=(0,s.Fl)({get(){return i.state.ui.showContent},set(e){i.commit("ui/setShowContent",e)}}),d=()=>{t("menuOpen")},r=async()=>{await i.dispatch("auth/signOut"),a.push("/")};return{openMenu:d,logout:r,title:o,userLoggedIn:n,showItems:l}}});var X=a(3744);const Q=(0,X.Z)(J,[["render",p],["__scopeId","data-v-80384c42"]]),ee=Q;var te=a(6060);const ae=e=>((0,s.dD)("data-v-32860c9d"),e=e(),(0,s.Cn)(),e),ie=ae((()=>(0,s._)("div",{class:"menu-header"},"Movies",-1))),se=(0,s.Uk)("History"),ne=(0,s.Uk)("Watch List"),oe=ae((()=>(0,s._)("div",{class:"menu-header"},"Musicals",-1))),le=(0,s.Uk)("History"),de=(0,s.Uk)("Listen List"),re=ae((()=>(0,s._)("div",{class:"menu-header"},"Other",-1))),ce=(0,s.Uk)("Stats"),ue=(0,s.Uk)("Graph");function me(e,t,a,i,n,o){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[ie,(0,s.Wm)(l,{onClick:e.handleClick,key:"/movies/history",class:"menu-item",to:"/movies/history"},{default:(0,s.w5)((()=>[se])),_:1},8,["onClick"]),(0,s.Wm)(l,{onClick:e.handleClick,key:"/movies/watch",class:"menu-item",to:"/movies/watch"},{default:(0,s.w5)((()=>[ne])),_:1},8,["onClick"]),oe,(0,s.Wm)(l,{onClick:e.handleClick,key:"/musicals/history",class:"menu-item",to:"/musicals/history"},{default:(0,s.w5)((()=>[le])),_:1},8,["onClick"]),(0,s.Wm)(l,{onClick:e.handleClick,key:"/musicals/listen",class:"menu-item",to:"/musicals/listen"},{default:(0,s.w5)((()=>[de])),_:1},8,["onClick"]),re,(0,s.Wm)(l,{onClick:e.handleClick,key:"/stats",class:"menu-item",to:"/stats"},{default:(0,s.w5)((()=>[ce])),_:1},8,["onClick"]),(0,s.Wm)(l,{onClick:e.handleClick,key:"/graph",class:"menu-item",to:"/graph"},{default:(0,s.w5)((()=>[ue])),_:1},8,["onClick"])],64)}const _e=(0,s.aZ)({name:"MainMenu",components:{},emits:["navigate"],setup(e,{emit:t}){const a=()=>t("navigate"),i=(0,U.oR)(z),n=(0,s.Fl)({get(){return i.state.auth.settings.showFlagged},set(e){i.commit("ui/setShowFlagged",e)}});return{handleClick:a,showFlagged:n}}}),pe=(0,X.Z)(_e,[["render",me],["__scopeId","data-v-32860c9d"]]),ge=pe;var ve=a(3915);function he(e,t,a,i,o,l){return(0,s.wg)(),(0,s.iD)("div",{class:"action-button",onClick:t[0]||(t[0]=(...t)=>e.open&&e.open(...t)),style:(0,n.j5)(e.style)},[(0,s._)("i",{class:(0,n.C_)(["pi action-button__icon",e.buttonIcon])},null,2)],4)}const Ee=(0,s.aZ)({name:"ActionButton",components:{},emits:["clicked"],props:{icon:{type:String,required:!0},position:{type:Number,required:!0}},setup(e,{emit:t}){const a=()=>{t("clicked")},i={};return i[`${I[e.position]}`]=0,i[`border-bottom-${I[Number(!e.position)]}-radius`]="0.2em",i[`border-top-${I[Number(!e.position)]}-radius`]="0.2em",{open:a,buttonIcon:e.icon,style:i}}}),Pe=(0,X.Z)(Ee,[["render",he],["__scopeId","data-v-a276e3cc"]]),fe=Pe,we=e=>((0,s.dD)("data-v-3960c006"),e=e(),(0,s.Cn)(),e),Ae={class:"settings"},Ie=we((()=>(0,s._)("h2",null,"Settings",-1))),be={class:"p-fluid settings__panel"},Se={class:"p-field settings__row"},ye=we((()=>(0,s._)("label",{for:"showFlagged"},"Show Flagged",-1))),Ue={class:"p-field settings__row"},Re=we((()=>(0,s._)("label",{for:"showFlagged"},"Background Query",-1)));function Ve(e,t,a,i,n,o){const l=(0,s.up)("InputSwitch"),d=(0,s.up)("InputText");return(0,s.wg)(),(0,s.iD)("div",Ae,[Ie,(0,s._)("div",be,[(0,s._)("div",Se,[ye,(0,s.Wm)(l,{class:"settings__field",modelValue:e.showFlagged,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showFlagged=t)},null,8,["modelValue"])]),(0,s._)("div",Ue,[Re,(0,s.Wm)(d,{class:"settings__field",modelValue:e.backgroundQuery,"onUpdate:modelValue":t[1]||(t[1]=t=>e.backgroundQuery=t)},null,8,["modelValue"])])])])}var Be=a(6663),De=a(6076);const ke=(0,s.aZ)({name:"Settings",components:{InputSwitch:Be.Z,InputText:De.Z},setup(){const e=(0,U.oR)(z),t=(0,r.iH)(e.state.auth.settings.backgroundQuery),a=(0,r.iH)(e.state.auth.settings.showFlagged);return(0,s.Jd)((()=>{e.commit("ui/setSettingsPanelOpen",!1),e.dispatch("auth/updateProfile",{backgroundQuery:t.value,showFlagged:a.value})})),{showFlagged:a,backgroundQuery:t}}}),Ce=(0,X.Z)(ke,[["render",Ve],["__scopeId","data-v-3960c006"]]),Me=Ce,Oe=(0,s.aZ)({name:"App",components:{NavBar:ee,Sidebar:te.Z,MainMenu:ge,Toast:ve.Z,ActionButton:fe,Settings:Me},setup(){var e;const t=(0,r.iH)(!1),a=(0,U.oR)(z),i=(0,r.iH)(!0),n=(0,r.iH)(!1),o=(0,s.Fl)((()=>a.state.ui.showContent));(0,s.Xn)((()=>{var e;const t=(0,b.yj)();i.value=null===(e=t.meta)||void 0===e?void 0:e.hasAdd}));const l=()=>{a.commit("ui/setAddPanelOpen",!0)},d=()=>{a.commit("ui/setSettingsPanelOpen",!0)},c=()=>{t.value=!0},u=()=>{t.value=!1},m=e=>{const t=document.documentElement;t.style.setProperty("--backdrop",`url(${e})`),t.style.setProperty("--poster",`url(${e})`)};(0,s.YP)((()=>a.state.ui.background),(e=>m(e))),(0,s.YP)((()=>a.state.ui.settingsPanelOpen),(e=>{n.value=e}));const _=(0,s.Fl)((()=>a.state.ui.backgroundLocation));return(0,s.bv)((()=>{a.dispatch("auth/authSubscribe")})),a.subscribe((e=>{"auth/setProfile"===e.type&&a.dispatch("ui/loadBackground",e.payload.backgroundQuery).then((()=>{m(a.state.ui.background)}))})),{menuIsOpen:t,openMenu:c,closeMenu:u,openAddPanel:l,sha:(null===(e={VUE_APP_FIREBASE_PROJECT_ID:"chronicle-39ac8",VUE_APP_FIREBASE_APP_ID:"1:112172843873:web:772af33f9471fb088f3b20",VUE_APP_MOVIE_DB_KEY:"80f4a53c03c03a82e7a89241913c9843",VUE_APP_FIREBASE_API_KEY:"AIzaSyBp3gPT_5OI-R8qNDrBuAkwTKO9D8zXIMc",VUE_APP_UNSPLASH_API_KEY:"2iYutGBYlb10MjRSYju3HgXhCavRiTyfxIlpqqHdPJE",VUE_APP_FIREBASE_MESSAGE_SENDER_ID:"112172843873",VUE_APP_FIREBASE_STOREAGE_BUCKET:"chronicle-39ac8.appspot.com",VUE_APP_COMMIT:"d4d3981b35d3ec4d3d40f0eee7b36294e277de75",VUE_APP_FIREBASE_AUTH_DOMAIN:"chronicle-39ac8.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/"})||void 0===e?void 0:e.VUE_APP_COMMIT)||"git-hash",showAddButton:i,openSettingsPanel:d,addButtonPosition:I.right,settingsButtonPosition:I.left,settingsAreOpen:n,backgroundLocation:_,showContent:o}}}),Te=(0,X.Z)(Oe,[["render",d]]),Ze=Te,Fe=e=>((0,s.dD)("data-v-722552f4"),e=e(),(0,s.Cn)(),e),He={key:0},Ne={class:"field grid"},Ye=Fe((()=>(0,s._)("label",{for:"email",class:"col-fixed login__label"},"Email",-1))),Ke={class:"col"},je={class:"field grid"},xe=Fe((()=>(0,s._)("label",{for:"password",class:"col-fixed login__label"},"Password",-1))),Le={class:"col"},qe={class:"field grid"},ze=Fe((()=>(0,s._)("div",{class:"col-fixed login__label"},null,-1))),We={class:"col"},$e={key:1,class:"login__container"},Ge=Fe((()=>(0,s._)("i",{class:"pi pi-spin pi-spinner login__spinner"},null,-1))),Je=[Ge];function Xe(e,t,a,i,o,l){const d=(0,s.up)("InputText"),r=(0,s.up)("Password"),c=(0,s.up)("Button"),u=(0,s.up)("Card");return(0,s.wg)(),(0,s.j4)(u,{class:"login"},{title:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.ready?"Login":"Authenticating"),1)])),content:(0,s.w5)((()=>[e.ready?((0,s.wg)(),(0,s.iD)("div",He,[(0,s._)("div",Ne,[Ye,(0,s._)("div",Ke,[(0,s.Wm)(d,{id:"email",type:"username",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t)},null,8,["modelValue"])])]),(0,s._)("div",je,[xe,(0,s._)("div",Le,[(0,s.Wm)(r,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),feedback:!1},null,8,["modelValue"])])]),(0,s._)("div",qe,[ze,(0,s._)("div",We,[(0,s.Wm)(c,{type:"button",label:e.loggingIn?"Authenticating":"Login",loading:e.loggingIn,onClick:e.login},null,8,["label","loading","onClick"])])])])):((0,s.wg)(),(0,s.iD)("div",$e,Je))])),_:1})}var Qe=a(8382),et=a(4902),tt=(a(1703),a(9201));class at{constructor(){(0,R.Z)(this,"toast",void 0),this.toast=(0,tt.p)()}show(e,t){e instanceof Error?(this.toast.add({severity:"error",summary:e.name,detail:e.message,life:B.ToastLifeSpan}),console.error(e)):this.toast.add({severity:t||"warn",summary:"Notification",detail:e,life:B.ToastLifeSpan})}}const it=(0,s.aZ)({name:"Login",components:{Card:Qe.Z,InputText:De.Z,Password:et.Z,Button:S.Z},setup(){const e=(0,b.tv)(),t=(0,r.iH)(""),a=(0,r.iH)(""),i=(0,r.iH)(!1),n=new at,o=(0,U.oR)(z),l=(0,s.Fl)((()=>o.state.auth.ready)),d=async()=>{i.value=!0,await o.dispatch("auth/signIn",{email:a.value,password:t.value}),i.value=!1};return(0,s.YP)((()=>o.state.auth.user),(t=>{t&&e.push({name:"Movie History"})})),(0,s.YP)((()=>o.state.auth.error),(e=>{e&&n.show(e)})),{password:t,email:a,loggingIn:i,login:d,ready:l}}}),st=(0,X.Z)(it,[["render",Xe],["__scopeId","data-v-722552f4"]]),nt=st;function ot(e,t,a,i,n,o){const l=(0,s.up)("router-view"),d=(0,s.up)("add-movie"),r=(0,s.up)("Sidebar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s.Wm)(r,{visible:e.addIsOpen,"onUpdate:visible":t[0]||(t[0]=t=>e.addIsOpen=t),position:"full",onHide:e.setPanelClosedInStore},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{onSaved:e.closeAddPanel},null,8,["onSaved"])])),_:1},8,["visible","onHide"])],64)}const lt=e=>((0,s.dD)("data-v-1785a8b4"),e=e(),(0,s.Cn)(),e),dt={class:"add-movie"},rt=lt((()=>(0,s._)("h2",null,"Add Movie",-1))),ct={class:"p-fluid add-movie__panel"},ut={class:"p-field add-movie__row"},mt=lt((()=>(0,s._)("label",{for:"name"},"Movie Name",-1))),_t={class:"p-field add-movie__row add-movie__poster"},pt=["src"],gt={class:"p-field add-movie__row"},vt=lt((()=>(0,s._)("label",{for:"rating"},"Rating",-1))),ht={class:"p-field add-movie__row"},Et={class:"p-field add-movie__row"},Pt=lt((()=>(0,s._)("label",{for:"year"},"Date Seen",-1))),ft={class:"p-field add-movie__row"};function wt(e,t,a,o,l,d){var r,c;const u=(0,s.up)("AutoComplete"),m=(0,s.up)("Knob"),_=(0,s.up)("ToggleButton"),p=(0,s.up)("Calendar"),g=(0,s.up)("Button");return(0,s.wg)(),(0,s.iD)("div",dt,[rt,(0,s._)("div",ct,[(0,s._)("div",ut,[mt,(0,s.Wm)(u,{id:"name",modelValue:e.selectedMovie,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedMovie=t),suggestions:e.suggestions,onComplete:t[1]||(t[1]=t=>e.movieSearch(t)),onItemSelect:e.movieSelected,onClear:e.movieCleared,field:"name",class:(0,n.C_)(["add-movie__field",e.invalid?"p-invalid":""]),forceSelection:"",dropdownMode:"current"},{item:(0,s.w5)((e=>[(0,s._)("div",null,(0,n.zw)(e.item.name),1)])),_:1},8,["modelValue","suggestions","onItemSelect","onClear","class"])]),(0,s.wy)((0,s._)("div",_t,[(0,s._)("img",{src:null===(r=e.selectedMovie)||void 0===r||null===(c=r.poster)||void 0===c?void 0:c.url,class:"add-movie__image"},null,8,pt)],512),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",gt,[vt,(0,s.Wm)(m,{modelValue:e.rating,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rating=t),id:"rating",size:150,class:"add-movie__rating"},null,8,["modelValue"])],512),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",ht,[(0,s.Wm)(_,{modelValue:e.flagged,"onUpdate:modelValue":t[3]||(t[3]=t=>e.flagged=t),onLabel:"Flagged",offLabel:"Unflagged"},null,8,["modelValue"])],512),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",Et,[Pt,(0,s.Wm)(p,{id:"date",modelValue:e.selectedDate,"onUpdate:modelValue":t[4]||(t[4]=t=>e.selectedDate=t),showIcon:!1,showTime:!1,selectionMode:"single",maxDate:new Date},null,8,["modelValue","maxDate"])],512),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",ft,[(0,s.Wm)(g,{label:e.saving?"Saving":"Save",onClick:e.save,disabled:e.saving},null,8,["label","onClick","disabled"])],512),[[i.F8,e.itemSelected]])])])}var At=a(4870),It=a(8223),bt=a(8076);const St=(0,s.aZ)({name:"AddMovie",components:{AutoComplete:At.Z,Knob:bt.Z,Calendar:It.Z,Button:S.Z,ToggleButton:G.Z},emits:["saved"],setup(e,{emit:t}){const a=(0,r.iH)([]),i=(0,r.iH)(),s=(0,r.iH)(0),n=(0,r.iH)(),o=(0,r.iH)(!1),l=(0,r.iH)(!1),d=(0,r.iH)(!1),c=(0,U.oR)(z),u=(0,r.iH)(!1),m=()=>{u.value=!0},_=()=>{u.value=!1},p=async()=>{var e,a,r,u,m,_,p;if(o.value=void 0===i.value,o.value)return;const g={name:(null===(e=i.value)||void 0===e?void 0:e.name)||"",posterUrl:(null===(a=i.value)||void 0===a||null===(r=a.poster)||void 0===r?void 0:r.url)||"",posterWidth:(null===(u=i.value)||void 0===u||null===(m=u.poster)||void 0===m?void 0:m.width)||0,myRating:s.value||0,globalRating:(null===(_=i.value)||void 0===_?void 0:_.rating)||0,year:n.value,id:(null===(p=i.value)||void 0===p?void 0:p.id)||0,flagged:d.value};l.value=!0,await c.dispatch("movies/addItem",g),t("saved")},g=async e=>{a.value=await c.dispatch("movies/loadSuggestions",e.query.trim())};return{movieSearch:g,selectedMovie:i,suggestions:a,rating:s,selectedDate:n,save:p,invalid:o,saving:l,itemSelected:u,movieSelected:m,movieCleared:_,flagged:d}}}),yt=(0,X.Z)(St,[["render",wt],["__scopeId","data-v-1785a8b4"]]),Ut=yt,Rt=(0,s.aZ)({name:"Movies",components:{Sidebar:te.Z,AddMovie:Ut},setup(){const e=(0,U.oR)(z);(0,s.JJ)(W,"movies");const t=(0,r.iH)(!1);(0,s.bv)((()=>{e.dispatch("movies/loadItems"),e.dispatch("movies/loadConfiguration")}));const a=()=>{e.commit("ui/setAddPanelOpen",!1)},i=()=>{a()};return(0,s.YP)((()=>e.state.ui.addPanelOpen),(e=>{t.value=e})),{addIsOpen:t,closeAddPanel:i,setPanelClosedInStore:a}}}),Vt=(0,X.Z)(Rt,[["render",ot]]),Bt=Vt;function Dt(e,t,a,i,n,o){const l=(0,s.up)("router-view"),d=(0,s.up)("add-musical"),r=(0,s.up)("Sidebar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s.Wm)(r,{visible:e.addIsOpen,"onUpdate:visible":t[0]||(t[0]=t=>e.addIsOpen=t),position:"full",onHide:e.setPanelClosedInStore},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{onSaved:e.closeAddPanel},null,8,["onSaved"])])),_:1},8,["visible","onHide"])],64)}const kt=e=>((0,s.dD)("data-v-7f63885a"),e=e(),(0,s.Cn)(),e),Ct={class:"add-musical"},Mt=kt((()=>(0,s._)("h2",null,"Add Musical",-1))),Ot={class:"p-fluid add-musical__panel"},Tt={class:"p-field add-musical__row"},Zt=kt((()=>(0,s._)("label",{for:"name"},"Musical Name",-1))),Ft=["innerHTML"],Ht={class:"p-field add-musical__row add-musical__poster"},Nt=["src"],Yt={class:"p-field add-musical__row"},Kt=kt((()=>(0,s._)("label",{for:"rating"},"Rating",-1))),jt={class:"p-field add-movie__row"},xt={class:"p-field add-musical__row"},Lt=kt((()=>(0,s._)("label",{for:"year"},"Date Seen",-1))),qt={class:"p-field add-musical__row"};function zt(e,t,a,o,l,d){var r,c;const u=(0,s.up)("AutoComplete"),m=(0,s.up)("Knob"),_=(0,s.up)("ToggleButton"),p=(0,s.up)("Calendar"),g=(0,s.up)("Button");return(0,s.wg)(),(0,s.iD)("div",Ct,[Mt,(0,s._)("div",Ot,[(0,s._)("div",Tt,[Zt,(0,s.Wm)(u,{id:"name",modelValue:e.selectedMusical,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedMusical=t),suggestions:e.suggestions,onComplete:t[1]||(t[1]=t=>e.musicalSearch(t)),onItemSelect:e.musicalSelected,onClear:e.musicalCleared,field:"title",class:(0,n.C_)(["add-musical__field",e.invalid?"p-invalid":""]),forceSelection:"",dropdownMode:"current"},{item:(0,s.w5)((e=>[(0,s._)("div",null,(0,n.zw)(e.item.title),1)])),_:1},8,["modelValue","suggestions","onItemSelect","onClear","class"])]),(0,s.wy)((0,s._)("div",{class:"p-field add-musical__row",innerHTML:null===(r=e.selectedMusical)||void 0===r?void 0:r.description},null,8,Ft),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",Ht,[(0,s._)("img",{src:null===(c=e.poster)||void 0===c?void 0:c.source,class:"add-musical__image"},null,8,Nt)],512),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",Yt,[Kt,(0,s.Wm)(m,{modelValue:e.rating,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rating=t),id:"rating",size:150,class:"add-musical__rating"},null,8,["modelValue"])],512),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",jt,[(0,s.Wm)(_,{modelValue:e.flagged,"onUpdate:modelValue":t[3]||(t[3]=t=>e.flagged=t),onLabel:"Flagged",offLabel:"Unflagged"},null,8,["modelValue"])],512),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",xt,[Lt,(0,s.Wm)(p,{id:"date",modelValue:e.selectedDate,"onUpdate:modelValue":t[4]||(t[4]=t=>e.selectedDate=t),showIcon:!1,showTime:!1,selectionMode:"single",maxDate:new Date},null,8,["modelValue","maxDate"])],512),[[i.F8,e.itemSelected]]),(0,s.wy)((0,s._)("div",qt,[(0,s.Wm)(g,{label:e.saving?"Saving":"Save",onClick:e.save,disabled:e.saving},null,8,["label","onClick","disabled"])],512),[[i.F8,e.itemSelected]])])])}const Wt=(0,s.aZ)({name:"AddMusical",components:{AutoComplete:At.Z,Knob:bt.Z,Calendar:It.Z,Button:S.Z,ToggleButton:G.Z},emits:["saved"],setup(e,{emit:t}){const a=(0,r.iH)([]),i=(0,r.iH)(),s=(0,r.iH)(0),n=(0,r.iH)(),o=(0,r.iH)(!1),l=(0,r.iH)(!1),d=(0,r.iH)(!1),c=(0,r.iH)(!1),u=(0,U.oR)(z),m=(0,r.iH)(),_=async e=>{c.value=!0,m.value=await u.dispatch("musicals/loadPoster",e.value.title)},p=()=>{c.value=!1},g=async()=>{var e,a,r;if(o.value=void 0===i.value,o.value)return;const c={name:(null===(e=i.value)||void 0===e?void 0:e.title)||"",posterUrl:(null===(a=m.value)||void 0===a?void 0:a.source)||"",posterWidth:(null===(r=m.value)||void 0===r?void 0:r.width)||0,myRating:s.value||0,globalRating:0,year:n.value,id:0,flagged:d.value};l.value=!0,await u.dispatch("musicals/addItem",c),t("saved")},v=async e=>{a.value=await u.dispatch("musicals/loadSuggestions",e.query.trim())};return{musicalSearch:v,selectedMusical:i,suggestions:a,rating:s,selectedDate:n,save:g,invalid:o,saving:l,poster:m,flagged:d,musicalSelected:_,itemSelected:c,musicalCleared:p}}}),$t=(0,X.Z)(Wt,[["render",zt],["__scopeId","data-v-7f63885a"]]),Gt=$t,Jt=(0,s.aZ)({name:"Musicals",components:{Sidebar:te.Z,AddMusical:Gt},setup(){const e=(0,r.iH)(!1);(0,s.JJ)(W,"musicals");const t=(0,U.oR)(z);(0,s.bv)((()=>{t.dispatch("musicals/loadItems")})),(0,s.YP)((()=>t.state.ui.addPanelOpen),(t=>{e.value=t}));const a=()=>{t.commit("ui/setAddPanelOpen",!1)},i=()=>{a()};return{addIsOpen:e,setPanelClosedInStore:a,closeAddPanel:i}}}),Xt=(0,X.Z)(Jt,[["render",Dt]]),Qt=Xt;function ea(e,t,a,i,n,o){const l=(0,s.up)("item");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.items,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-fixed",key:t},[(0,s.Wm)(l,{data:e,editKey:t},null,8,["data","editKey"])])))),128)}const ta=["src"],aa={class:"item__content"};function ia(e,t,a,i,o,l){const d=(0,s.up)("ProgressBar"),r=(0,s.up)("Knob"),c=(0,s.up)("Button"),u=(0,s.up)("ToggleButton"),m=(0,s.up)("Calendar"),_=(0,s.up)("Card");return(0,s.wg)(),(0,s.j4)(_,{class:"item","data-key":e.editKey},{header:(0,s.w5)((()=>{var a;return[(0,s._)("div",{class:(0,n.C_)(["item__header",{"item__header--active":(null===(a=e.data)||void 0===a?void 0:a.id)>0}]),onClick:t[0]||(t[0]=(...t)=>e.view&&e.view(...t))},[(0,s._)("img",{alt:"Poster",src:e.data.posterUrl},null,8,ta)],2)]})),title:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.data.name),1)])),content:(0,s.w5)((()=>[(0,s._)("div",aa,[e.data.myRating?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"item__rating",value:e.data.myRating,showValue:!0,title:"My Rating"},null,8,["value"])):(0,s.kq)("",!0),e.data.myRating&&e.data.globalRating?((0,s.wg)(),(0,s.j4)(d,{key:1,class:"item__rating",value:e.data.globalRating,showValue:!0,title:"Global Rating"},null,8,["value"])):(0,s.kq)("",!0),e.isEditing?((0,s.wg)(),(0,s.j4)(r,{key:2,modelValue:e.rating,"onUpdate:modelValue":t[1]||(t[1]=t=>e.rating=t),size:150,class:"item_rating"},null,8,["modelValue"])):(0,s.kq)("",!0),e.data.year?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:3,class:"item__edit",label:e.isEditing?"Save":"Edit",onClick:e.edit},null,8,["label","onClick"])),e.isEditing?((0,s.wg)(),(0,s.j4)(c,{key:4,class:"item__delete",label:"Delete",onClick:e.remove},null,8,["onClick"])):(0,s.kq)("",!0),e.isEditing?((0,s.wg)(),(0,s.j4)(u,{key:5,class:"item__flagged",modelValue:e.flagged,"onUpdate:modelValue":t[2]||(t[2]=t=>e.flagged=t),onLabel:"Flagged",offLabel:"Unflagged"},null,8,["modelValue"])):(0,s.kq)("",!0),e.isEditing?((0,s.wg)(),(0,s.j4)(m,{key:6,id:"date",modelValue:e.selectedDate,"onUpdate:modelValue":t[3]||(t[3]=t=>e.selectedDate=t),showIcon:!1,showTime:!1,selectionMode:"single",maxDate:new Date},null,8,["modelValue","maxDate"])):(0,s.kq)("",!0)])])),footer:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.formatDate(e.data.year)),1)])),_:1},8,["data-key"])}var sa=a(161);const na=(0,s.aZ)({name:"Item",components:{Knob:bt.Z,Button:S.Z,Card:Qe.Z,Calendar:It.Z,ProgressBar:sa.Z,ToggleButton:G.Z},props:{data:{type:Object,require:!0},editKey:{type:String,required:!0}},setup(e){const t=(0,r.iH)(!1),a=(0,r.iH)(!1),i=(0,r.iH)(new Date),n=(0,r.iH)(0),o=(0,U.oR)(z),l=(0,s.f3)(W),d=(0,b.tv)(),c=async()=>{var t;if(null!==(t=e.data)&&void 0!==t&&t.id){var a;let t=d.resolve({name:"Movie",params:{id:null===(a=e.data)||void 0===a?void 0:a.id}});window.open(t.href,"_blank")}},u=async()=>{await o.dispatch(`${l}/removeItem`,e.editKey)},m=async()=>{if(t.value){const s={...e.data};s.myRating=n.value,s.year=i.value,await o.dispatch(`${l}/updateItem`,{item:s,key:e.editKey}),t.value=a.value}else t.value=!0},_=e=>e?new Date(e).toDateString():"";return{isEditing:t,selectedDate:i,rating:n,formatDate:_,edit:m,view:c,remove:u,flagged:a}}}),oa=(0,X.Z)(na,[["render",ia],["__scopeId","data-v-2ea6c00c"]]),la=oa,da=(0,s.aZ)({name:"ItemsList",components:{Item:la},props:{getter:{type:String,required:!0}},setup(e){const t=(0,s.f3)(W),a=(0,U.oR)(z),i=(0,b.yj)(),n=(0,s.Fl)((()=>a.getters[`${t}/${e.getter}`](a.state.auth.settings.showFlagged)));return(0,s.bv)((()=>{a.commit("ui/setTitle",i.name)})),{items:n}}}),ra=(0,X.Z)(da,[["render",ea]]),ca=ra;function ua(e,t,a,i,n,o){const l=(0,s.up)("stat-panel");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l,{stat:e.movieStats,image:"https://images.unsplash.com/photo-1542204165-65bf26472b9b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80"},null,8,["stat"]),(0,s.Wm)(l,{stat:e.musicalStats,image:"https://images.unsplash.com/photo-1562329265-95a6d7a83440?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80"},null,8,["stat"])],64)}const ma=e=>((0,s.dD)("data-v-3816a0f1"),e=e(),(0,s.Cn)(),e),_a=["src"],pa=ma((()=>(0,s._)("span",{class:"stat__heading"},"Average Rating:",-1))),ga=ma((()=>(0,s._)("span",{class:"stat__heading"},"Maximum Rated Item:",-1))),va=ma((()=>(0,s._)("span",{class:"stat__heading"},"Maximum Rating:",-1))),ha=ma((()=>(0,s._)("span",{class:"stat__heading"},"Minimum Rated Item:",-1))),Ea=ma((()=>(0,s._)("span",{class:"stat__heading"},"Minimum Rating:",-1)));function Pa(e,t,a,i,o,l){const d=(0,s.up)("Card"),r=(0,s.Q2)("sentance-case");return(0,s.wg)(),(0,s.j4)(d,{class:"stat"},{header:(0,s.w5)((()=>[(0,s._)("img",{src:e.image},null,8,_a)])),title:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Uk)((0,n.zw)(e.stat.module),1)])),[[r]])])),subtitle:(0,s.w5)((()=>[(0,s.Uk)(" Total Items: "+(0,n.zw)(e.stat.totalItems),1)])),content:(0,s.w5)((()=>[(0,s._)("div",null,[pa,(0,s.Uk)(" "+(0,n.zw)(e.stat.averageRating),1)]),(0,s._)("div",null,[ga,(0,s.Uk)(" "+(0,n.zw)(e.stat.maxName),1)]),(0,s._)("div",null,[va,(0,s.Uk)(" "+(0,n.zw)(e.stat.maxRating),1)]),(0,s._)("div",null,[ha,(0,s.Uk)(" "+(0,n.zw)(e.stat.minName),1)]),(0,s._)("div",null,[Ea,(0,s.Uk)(" "+(0,n.zw)(e.stat.minRating),1)])])),_:1})}const fa=(0,s.aZ)({name:"StatPanel",components:{Card:Qe.Z},props:{stat:{required:!0,type:Object},image:{required:!0,type:String}},setup(){return{}}}),wa=(0,X.Z)(fa,[["render",Pa],["__scopeId","data-v-3816a0f1"]]),Aa=wa,Ia=(0,s.aZ)({name:"Stats",components:{StatPanel:Aa},setup(){const e=(0,U.oR)(z),t=(0,s.Fl)((()=>e.getters["movies/getStats"])),a=(0,s.Fl)((()=>e.getters["musicals/getStats"]));return(0,s.bv)((()=>{e.dispatch("movies/loadItems"),e.dispatch("musicals/loadItems")})),{movieStats:t,musicalStats:a}}}),ba=(0,X.Z)(Ia,[["render",ua]]),Sa=ba;function ya(e,t,a,i,n,o){const l=(0,s.up)("graph-panel");return(0,s.wg)(),(0,s.j4)(l)}function Ua(e,t,a,i,n,o){const l=(0,s.up)("Chart"),d=(0,s.up)("Card");return(0,s.wg)(),(0,s.j4)(d,{class:"chart"},{content:(0,s.w5)((()=>[(0,s.Wm)(l,{class:"fill",type:"bar",data:e.data,options:e.options},null,8,["data","options"])])),_:1})}var Ra=a(2384);const Va=(0,s.aZ)({name:"GraphPanel",components:{Chart:Ra.Z,Card:Qe.Z},setup(){const e=(0,U.oR)(z),t=(0,s.Fl)((()=>e.getters["movies/getGraphData"])),a=(0,s.Fl)((()=>e.getters["musicals/getGraphData"])),i=(e,t)=>({labels:[...new Set([...e.labels,...t.labels].sort())],datasets:[{label:"Movies",backgroundColor:"#1c8b9c",data:e.data},{label:"Musicals",backgroundColor:"#1c9c5c",data:t.data}]}),n=(0,r.iH)(i(t.value,a.value));(0,s.YP)([t,a],(([e,t])=>{n.value=i(e,t)})),(0,s.bv)((()=>{e.dispatch("movies/loadItems"),e.dispatch("musicals/loadItems")}));const o=(0,r.iH)({maintainAspectRatio:!1,indexAxis:"y"});return{options:o,data:n}}}),Ba=(0,X.Z)(Va,[["render",Ua]]),Da=Ba,ka=(0,s.aZ)({name:"Graph",components:{GraphPanel:Da},setup(){return{}}}),Ca=(0,X.Z)(ka,[["render",ya]]),Ma=Ca,Oa=(0,s._)("b",null,"Details",-1),Ta=(0,s._)("b",null,"Cast",-1),Za=["src"],Fa={key:1,class:"view-movie__person--missing"},Ha=(0,s._)("b",null,"Posters",-1);function Na(e,t,a,i,o,l){var d,r;const c=(0,s.up)("Divider"),u=(0,s.up)("Card"),m=(0,s.up)("Image");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c,{align:"left",class:"view-movie__divider"},{default:(0,s.w5)((()=>[Oa])),_:1}),(0,s.Wm)(u,null,{title:(0,s.w5)((()=>{var t,a;return[(0,s.Uk)(" Release Date: "+(0,n.zw)(null===(t=e.movieView)||void 0===t||null===(a=t.release)||void 0===a?void 0:a.toDateString()),1)]})),subtitle:(0,s.w5)((()=>{var t,a,i;return[(0,s._)("div",null," Runtime: "+(0,n.zw)(null===(t=e.movieView)||void 0===t?void 0:t.runtime),1),(0,s._)("div",null," Director: "+(0,n.zw)(null===(a=e.movieView)||void 0===a?void 0:a.director),1),(0,s._)("div",null," Revenue: "+(0,n.zw)(null===(i=e.movieView)||void 0===i?void 0:i.earning),1)]})),content:(0,s.w5)((()=>{var t;return[(0,s.Uk)((0,n.zw)(null===(t=e.movieView)||void 0===t?void 0:t.description),1)]})),_:1}),(0,s.Wm)(c,{align:"left",class:"view-movie__divider"},{default:(0,s.w5)((()=>[Ta])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(null===(d=e.movieView)||void 0===d?void 0:d.people,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-fixed",key:t},[(0,s.Wm)(u,{class:"view-movie__person"},{header:(0,s.w5)((()=>[e.profile?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.profile,alt:"No image found"},null,8,Za)):((0,s.wg)(),(0,s.iD)("div",Fa))])),title:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.name),1)])),subtitle:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.job),1)])),_:2},1024)])))),128)),(0,s.Wm)(c,{align:"left",class:"view-movie__divider"},{default:(0,s.w5)((()=>[Ha])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(null===(r=e.movieView)||void 0===r?void 0:r.posters,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-fixed",key:t},[(0,s.Wm)(u,{class:"view-movie__poster"},{header:(0,s.w5)((()=>[(0,s.Wm)(m,{src:e.poster,preview:""},null,8,["src"])])),title:(0,s.w5)((()=>[(0,s.Uk)(" Rating: "+(0,n.zw)(e.rating),1)])),subtitle:(0,s.w5)((()=>[(0,s.Uk)(" Language: "+(0,n.zw)(e.language),1)])),_:2},1024)])))),128))],64)}var Ya=a(4314),Ka=a(3242);const ja=(0,s.aZ)({name:"Movie",components:{Image:Ya.Z,Card:Qe.Z,Divider:Ka.Z},setup(){const e=(0,r.iH)(),t=(0,U.oR)(z),a=(0,b.yj)();return(0,s.bv)((async()=>{await t.dispatch("movies/loadConfiguration");const i=await t.dispatch("movies/loadMovieView",a.params.id);e.value=i,t.commit("ui/setTitle",i.title);const s=document.documentElement;s.style.setProperty("--backdrop",`url(${i.backdrop})`),s.style.setProperty("--poster",`url(${i.posters[0].poster})`)})),{movieView:e}}}),xa=(0,X.Z)(ja,[["render",Na]]),La=xa,qa=[{path:"/",name:"Login",component:nt},{path:"/movie/:id",name:"Movie",component:La},{path:"/movies/",name:"Movies",component:Bt,meta:{requiresAuth:!0,hasAdd:!0},children:[{path:"history",name:"Movie History",component:ca,props:{getter:"getRatedItems"}},{path:"watch",name:"Movie Watch List",component:ca,props:{getter:"getUnratedItems"}}]},{path:"/musicals/",name:"Musicals",component:Qt,meta:{requiresAuth:!0,hasAdd:!0},children:[{path:"history",name:"Musical History",component:ca,props:{getter:"getRatedItems"}},{path:"listen",name:"Musical Listen List",component:ca,props:{getter:"getUnratedItems"}}]},{path:"/stats",name:"Stats",component:Sa,meta:{requiresAuth:!0,hasAdd:!1}},{path:"/graph",name:"Graph",component:Ma,meta:{requiresAuth:!0,hasAdd:!1}}],za=(0,b.p7)({history:(0,b.r5)(),routes:qa});za.beforeEach(((e,t,a)=>{const i=e.matched.some((e=>{var t;return null===(t=e.meta)||void 0===t?void 0:t.requiresAuth}));i&&!$.state.auth.user?za.push("/"):a()}));const Wa=za;var $a=a(823),Ga=a(7382),Ja=a(7915);const Xa={mounted(e){e.innerText.length&&(e.innerText=e.innerText[0].toUpperCase()+e.innerText.substring(1,e.innerText.length))}};(0,i.ri)(Ze).use($,z).use(Wa).use($a.Z).use(Ga.Z).directive("tooltip",Ja.Z).directive("sentance-case",Xa).mount("#app")}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}a.m=e,(()=>{var e=[];a.O=(t,i,s,n)=>{if(!i){var o=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var l=!0,d=0;d<i.length;d++)(!1&n||o>=n)&&Object.keys(a.O).every((e=>a.O[e](i[d])))?i.splice(d--,1):(l=!1,n<o&&(o=n));if(l){e.splice(c--,1);var r=s();void 0!==r&&(t=r)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,i)=>(a.f[i](e,t),t)),[]))})(),(()=>{a.u=e=>"js/"+e+".a747d7ce.js"})(),(()=>{a.miniCssF=e=>{}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="chronicle:";a.l=(i,s,n,o)=>{if(e[i])e[i].push(s);else{var l,d;if(void 0!==n)for(var r=document.getElementsByTagName("script"),c=0;c<r.length;c++){var u=r[c];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+n){l=u;break}}l||(d=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+n),l.src=i),e[i]=[s];var m=(t,a)=>{l.onerror=l.onload=null,clearTimeout(_);var s=e[i];if(delete e[i],l.parentNode&&l.parentNode.removeChild(l),s&&s.forEach((e=>e(a))),t)return t(a)},_=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),d&&document.head.appendChild(l)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p="/"})(),(()=>{var e={143:0};a.f.j=(t,i)=>{var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var n=new Promise(((a,i)=>s=e[t]=[a,i]));i.push(s[2]=n);var o=a.p+a.u(t),l=new Error,d=i=>{if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,s[1](l)}};a.l(o,d,"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,i)=>{var s,n,o=i[0],l=i[1],d=i[2],r=0;if(o.some((t=>0!==e[t]))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(d)var c=d(a)}for(t&&t(i);r<o.length;r++)n=o[r],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},i=self["webpackChunkchronicle"]=self["webpackChunkchronicle"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=a.O(void 0,[998],(()=>a(3566)));i=a.O(i)})();
//# sourceMappingURL=app.9034226b.js.map